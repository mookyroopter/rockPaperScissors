<!DOCTYPE html>
<html>
<head>

</head>
<body>
    <script>
        
        
        function getPlayerInput () {
            let playerInput =  prompt("Pick one: Rock, Paper, Scissors");
            console.log(playerInput + "= playerInput");
            return playerInput;
        }


        function normalizeInput (input) {
            input = input[0].toUpperCase() + input.substring(1).toLowerCase();
            console.log(input + "= Input");
            return input;
        }

        function wordToNumber (playerInput){
            playerInput = normalizeInput(playerInput)
            if (playerInput == "Rock") {
                console.log(1 + " = Rock (1)");
                return 1;
            } else if (playerInput == "Paper") {
                console.log(2 + " = Paper (2)");
                return 2;
            } else if (playerInput == "Scissors") {
                console.log(3 + " = Scissors (3)");
                return 3;
            } else {
                alert("Not a valid selection!");
                getPlayerInput();
            }
        }

        function numToWord (numberInput) {
            if (numberInput === 1) {
                console.log("Number turned into Rock")
                return "Rock";
            } else if (numberInput === 2) {
                console.log("Number turned into Paper")
                return "Paper";
            } else if (numberInput === 3) {
                console.log("Number turned into Scissors")
                return "Scissors";
            } else {
                console.log("Not a Number");
            }
        }
        //selection = playerToNumber(PLAYERINPUT);
        //console.log(selection);
        function getComputerInput () {
            let value = Math.floor(Math.random()* 3) + 1;
            console.log("Got computer value of: " + value)
            return value;
        }

        function compareAnswers (player, computer) {
                let winner;
                if (player - computer === 1 || player === 1 && computer === 3) {
                    console.log("You win! " + numToWord(player) + " beats " + numToWord(computer) + "!");
                    return "player";
                } else if (computer - player === 1 || computer === 1 && player === 3) {
                    console.log("You lose! " + numToWord(computer) + " beats " + numToWord(player) + "!");
                    return "computer";
                } else if (computer === player ) {
                    console.log ("You both tied with " + numToWord(player) + "!");
                    return "tie";
                } else {
                    console.log("Sorry.  Things got fucky.  Try again!");
                }

        }
        function round () {
            let playerInput = getPlayerInput();
            playerInput = normalizeInput(playerInput);
            let playerNumber = wordToNumber(playerInput);
            let winner = compareAnswers (playerNumber, getComputerInput());
            console.log(winner);
            return winner;
        }

        function Game () {
            let playerScore = 0;
            let computerScore = 0;
            let i;
            for (i = 0; i < 5; i++){
                let winner = round();
                if (winner === "player") {
                    playerScore++;
                } else if (winner === "computer"){
                    computerScore++;
                }
            }
            if (playerScore > computerScore) {
                confirm("You won " + playerScore + " to " + computerScore + "! Play again?") ? Game() : null;
            } else {
                confirm("You lost " + computerScore + " to " + playerScore + "! Play again?") ? Game() : null;
            }
            
        }
        
        
        Game();
        



    </script>
    /*test*/
</body>


</html>